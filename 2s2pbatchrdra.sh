#!/bin/bash

torchrun --standalone --nnodes=1 --nproc_per_node=8 experiments/train_swin_2s_batchwise_rdra.py --epochs 400 --batch_size 256 --projection 192 --proj_hidden 3072 --infonce --sym_loss --base_lr 6.8e-4 --wd 1e-5 --warm_up --warm_up_epochs 20 --temperature 0.2 --prob_derivative 0.25 --prob_average 0.25

python evaluation/eval_retrieval.py --ckpt_folder /data/checkpoints_yehengz/swin_2s_batchwise_rdra/ucf1.0_nce_swin3dtiny/symTrue_bs256_lr0.00068_wd1e-05_ds3_sl8_nw_randFalse_warmupTrue_warmup_epochs20_projection_size192_proj_hidden3072_tau0.2_epoch_num400_operation_summation_prob_derivative0.25_prob_average0.25_seed233 --epoch_num 400 --swin --which_encoder 1 
python evaluation/eval_retrieval.py --ckpt_folder /data/checkpoints_yehengz/swin_2s_batchwise_rdra/ucf1.0_nce_swin3dtiny/symTrue_bs256_lr0.00068_wd1e-05_ds3_sl8_nw_randFalse_warmupTrue_warmup_epochs20_projection_size192_proj_hidden3072_tau0.2_epoch_num400_operation_summation_prob_derivative0.25_prob_average0.25_seed233 --epoch_num 400 --swin --which_encoder 2 
python evaluation/image_retrieval.py --ckpt_folder /data/checkpoints_yehengz/swin_2s_batchwise_rdra/ucf1.0_nce_swin3dtiny/symTrue_bs256_lr0.00068_wd1e-05_ds3_sl8_nw_randFalse_warmupTrue_warmup_epochs20_projection_size192_proj_hidden3072_tau0.2_epoch_num400_operation_summation_prob_derivative0.25_prob_average0.25_seed233 --epoch_num 400 --swin --which_encoder 1 --img_num 1 
python evaluation/image_retrieval.py --ckpt_folder /data/checkpoints_yehengz/swin_2s_batchwise_rdra/ucf1.0_nce_swin3dtiny/symTrue_bs256_lr0.00068_wd1e-05_ds3_sl8_nw_randFalse_warmupTrue_warmup_epochs20_projection_size192_proj_hidden3072_tau0.2_epoch_num400_operation_summation_prob_derivative0.25_prob_average0.25_seed233 --epoch_num 400 --swin --which_encoder 2 --img_num 1

python evaluation/eval_retrieval_2encoders.py --ckpt_folder /data/checkpoints_yehengz/swin_2s_batchwise_rdra/ucf1.0_nce_swin3dtiny/symTrue_bs256_lr0.00068_wd1e-05_ds3_sl8_nw_randFalse_warmupTrue_warmup_epochs20_projection_size192_proj_hidden3072_tau0.2_epoch_num400_operation_summation_prob_derivative0.25_prob_average0.25_seed233 --epoch_num 400 --swin --basic
python evaluation/eval_retrieval_2encoders.py --ckpt_folder /data/checkpoints_yehengz/swin_2s_batchwise_rdra/ucf1.0_nce_swin3dtiny/symTrue_bs256_lr0.00068_wd1e-05_ds3_sl8_nw_randFalse_warmupTrue_warmup_epochs20_projection_size192_proj_hidden3072_tau0.2_epoch_num400_operation_summation_prob_derivative0.25_prob_average0.25_seed233 --epoch_num 400 --swin --encoder_concat --basic
python evaluation/image_retrieval_2encoders.py --ckpt_folder /data/checkpoints_yehengz/swin_2s_batchwise_rdra/ucf1.0_nce_swin3dtiny/symTrue_bs256_lr0.00068_wd1e-05_ds3_sl8_nw_randFalse_warmupTrue_warmup_epochs20_projection_size192_proj_hidden3072_tau0.2_epoch_num400_operation_summation_prob_derivative0.25_prob_average0.25_seed233 --epoch_num 400 --swin --img_num 1
python evaluation/image_retrieval_2encoders.py --ckpt_folder /data/checkpoints_yehengz/swin_2s_batchwise_rdra/ucf1.0_nce_swin3dtiny/symTrue_bs256_lr0.00068_wd1e-05_ds3_sl8_nw_randFalse_warmupTrue_warmup_epochs20_projection_size192_proj_hidden3072_tau0.2_epoch_num400_operation_summation_prob_derivative0.25_prob_average0.25_seed233 --epoch_num 400 --swin --img_num 1 --concat




torchrun --standalone --nnodes=1 --nproc_per_node=8 experiments/train_swin_2s_batchwise_rdra.py --epochs 400 --batch_size 256 --projection 192 --proj_hidden 3072 --infonce --sym_loss --base_lr 6.8e-4 --wd 1e-5 --warm_up --warm_up_epochs 20 --temperature 0.2 --prob_derivative 0.75 --prob_average 0.75

python evaluation/eval_retrieval.py --ckpt_folder /data/checkpoints_yehengz/swin_2s_batchwise_rdra/ucf1.0_nce_swin3dtiny/symTrue_bs256_lr0.00068_wd1e-05_ds3_sl8_nw_randFalse_warmupTrue_warmup_epochs20_projection_size192_proj_hidden3072_tau0.2_epoch_num400_operation_summation_prob_derivative0.75_prob_average0.75_seed233 --epoch_num 400 --swin --which_encoder 1 
python evaluation/eval_retrieval.py --ckpt_folder /data/checkpoints_yehengz/swin_2s_batchwise_rdra/ucf1.0_nce_swin3dtiny/symTrue_bs256_lr0.00068_wd1e-05_ds3_sl8_nw_randFalse_warmupTrue_warmup_epochs20_projection_size192_proj_hidden3072_tau0.2_epoch_num400_operation_summation_prob_derivative0.75_prob_average0.75_seed233 --epoch_num 400 --swin --which_encoder 2 
python evaluation/image_retrieval.py --ckpt_folder /data/checkpoints_yehengz/swin_2s_batchwise_rdra/ucf1.0_nce_swin3dtiny/symTrue_bs256_lr0.00068_wd1e-05_ds3_sl8_nw_randFalse_warmupTrue_warmup_epochs20_projection_size192_proj_hidden3072_tau0.2_epoch_num400_operation_summation_prob_derivative0.75_prob_average0.75_seed233 --epoch_num 400 --swin --which_encoder 1 --img_num 1 
python evaluation/image_retrieval.py --ckpt_folder /data/checkpoints_yehengz/swin_2s_batchwise_rdra/ucf1.0_nce_swin3dtiny/symTrue_bs256_lr0.00068_wd1e-05_ds3_sl8_nw_randFalse_warmupTrue_warmup_epochs20_projection_size192_proj_hidden3072_tau0.2_epoch_num400_operation_summation_prob_derivative0.75_prob_average0.75_seed233 --epoch_num 400 --swin --which_encoder 2 --img_num 1 

python evaluation/eval_retrieval_2encoders.py --ckpt_folder /data/checkpoints_yehengz/swin_2s_batchwise_rdra/ucf1.0_nce_swin3dtiny/symTrue_bs256_lr0.00068_wd1e-05_ds3_sl8_nw_randFalse_warmupTrue_warmup_epochs20_projection_size192_proj_hidden3072_tau0.2_epoch_num400_operation_summation_prob_derivative0.75_prob_average0.75_seed233 --epoch_num 400 --swin --basic
python evaluation/eval_retrieval_2encoders.py --ckpt_folder /data/checkpoints_yehengz/swin_2s_batchwise_rdra/ucf1.0_nce_swin3dtiny/symTrue_bs256_lr0.00068_wd1e-05_ds3_sl8_nw_randFalse_warmupTrue_warmup_epochs20_projection_size192_proj_hidden3072_tau0.2_epoch_num400_operation_summation_prob_derivative0.75_prob_average0.75_seed233 --epoch_num 400 --swin --encoder_concat --basic
python evaluation/image_retrieval_2encoders.py --ckpt_folder /data/checkpoints_yehengz/swin_2s_batchwise_rdra/ucf1.0_nce_swin3dtiny/symTrue_bs256_lr0.00068_wd1e-05_ds3_sl8_nw_randFalse_warmupTrue_warmup_epochs20_projection_size192_proj_hidden3072_tau0.2_epoch_num400_operation_summation_prob_derivative0.75_prob_average0.75_seed233 --epoch_num 400 --swin --img_num 1
python evaluation/image_retrieval_2encoders.py --ckpt_folder /data/checkpoints_yehengz/swin_2s_batchwise_rdra/ucf1.0_nce_swin3dtiny/symTrue_bs256_lr0.00068_wd1e-05_ds3_sl8_nw_randFalse_warmupTrue_warmup_epochs20_projection_size192_proj_hidden3072_tau0.2_epoch_num400_operation_summation_prob_derivative0.75_prob_average0.75_seed233 --epoch_num 400 --swin --img_num 1 --concat